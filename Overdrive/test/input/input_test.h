// Input handling is quasi-reactive, so actual unit testing would require mocks etc; samples have been provided though